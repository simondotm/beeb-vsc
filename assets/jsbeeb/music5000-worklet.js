const BUFFER_SIZE=65536;registerProcessor("music5000",class extends AudioWorkletProcessor{constructor(){super(),this.port.onmessage=this.onmessage.bind(this),this.sampleBuffer=new Float32Array(65536),this.readPosition=0,this.writePosition=0}onmessage(s){const{data:t}=s,i=new Float32Array(t);65536===this.writePosition&&(this.writePosition=0);for(let s=0;s<t.length;s++)this.sampleBuffer[this.writePosition++]=i[s]/32768}process(s,t){65536===this.readPosition&&(this.readPosition=0);for(let s=0;s<t[0][0].length;s++)t[0][0][s]=this.sampleBuffer[this.readPosition++],t[0][1][s]=this.sampleBuffer[this.readPosition++];return!0}});